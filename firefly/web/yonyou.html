<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>工作日志</title>
    <link rel="stylesheet" href="css/box.css">
    <link rel="stylesheet" href="css/friendList.css">
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/yonyou.js"></script>
</head>
<body>
<div class="index">
    <a id="wl" href="#work-log">工作日志</a>
    <a id="yls-a" href="#yls-div">友零售系统</a>
</div>

<div class="box" id="work-log">
    <p>
        整理自己在实习期所学的东西，熟悉项目代码，熟悉系统/架构，熟悉部门/公司业务，知道自己在做什么 知道部门目前是在做什么的 周超简历；<br/>
        熟悉项目架构+项目解决的业务+用到的技术（分布式项目用到的技术）+是怎么实现的
    </p>

    <select title="选择日期" id="xzrq" onchange="changeselect()" class="sel">
        <option>2019-11-11</option>
        <option>2019-11-12</option>
        <option>2019-11-14</option>
        <option>2019-11-18</option>
        <option>2019-11-20</option>
        <option>2019-12-03</option>
    </select>&emsp;工作日志<br/>

    <!--1天 -- 1个ol
    页面只显示选中的那天的ol-->
    <ol id="yy-2019-11-11">
        <li>安装/配置软件/工具</li>
        <li>Redis可视化访问项目里的Redis数据库</li>
        <li>熟悉git</li>
    </ol>

    <ol id="yy-2019-11-12">
        <li>熟悉项目/业务</li>
        <li>看需求</li>
        <li>元数据使用/配元数据</li>
    </ol>

    <ol id="yy-2019-11-14">
        <li>[任务]：测试环境下数据库，执行sql，然后登录测试的系统->基础数据->计量单位->模板下载->导入，测试是否为异步操作，</li>
        <li>根据xlsm文件生成sql文件&emsp;元数据</li>
    </ol>

    <ol id="yy-2019-11-18">
        <li>项目提交至GitHub</li>
        <li>[任务]：【友零售-商品中心】：国际化，内容多语功能 单租户：（为了查一张表、熟悉表）<br/></li>
        <li>
            运行gitlab上1219分支前端项目时，商品档案、商品档案->新增均有问题：<br/>
            D:\allproject\1219\UStock-web\UPC-Web\package.json中，<br/>
            SRV_URL=http://localhost:8000换成<br/>
            SRV_URL=http://upc-server.test.app.yyuap.com<br/>

            点击完商品档案、商品档案->新增，再换回SRV_URL=http://localhost:8000
        </li>
    </ol>

    <ol id="yy-2019-11-20">
        <dl>
            <dt>查找一张MySQL数据表（方式1）</dt>
            <dd>
                已知"品牌属性" -> 搜索excel -> 出现档案（卡片）、列表 -> 选择列表 -> 数据源名称 -> IDEA ctrl+shift+f ENTITY_NAME = "数据源名称" 以定位java文件 -><br/>
                ctrl+shift+f 类名 选class标签 -> tablename即表名<br/>
            </dd>
            <dt>查找一张MySQL数据表（方式2）</dt>
            <dd>
                根据label名、excel表格（搜关键字以确定excel表格）->实体id->数据源名称->接下来和方式1相同<br/>
                cCode字段的值见excel表格<br/>
            </dd>
        </dl>
    </ol>

    <ol id="yy-2019-12-03">
        [任务]编写档案<br/>
        在业务档案最后加"附件分组"菜单，点击该菜单出现附件分组列表的页面<br/>

        根据xml元数据编辑excel表格<br/>
    </ol>
</div>

<div class="box" id="yls-div">
    <h2>一个系统-友零售</h2>

    <h4>友零售系统简介</h4>
    <p>
        这是目前正在开发的项目，upc是本部门项目代号，其代码位置：gitLAB->后端项目->1219分支。部门负责【友零售-商品中心】模块<br/>
        总体介绍一下这个系统/项目<br/>
        做新零售的使用该软件来搞新零售，使用该软件来帮助管理后台。<br/>
        【友零售】采用<a target="_blank" href="https://wenku.baidu.com/view/8221dc4753d380eb6294dd88d0d233d4b14e3ff1.html">模型驱动开发（MDD）</a>，熟悉这一概念<br/>
        开发【友零售】要知道的重要的概念：<a target="_blank" href="https://blog.csdn.net/chenkefo/article/details/81901776">熟悉元数据</a><br/>
        采用maven私服；<br/>
        要知道友零售这个项目是干啥的<br/>
    </p>

    <h4>熟悉系统</h4>
    <p>
        GitLab两个项目：后端/前端项目<br/>
    </p>
    <dl>
        <dt>整个后端项目</dt>
        <dd>
            【友零售-商品中心】模块<br/>
            IDEA打开后端项目：打开pom.xml<br/>
            这个后端项目启动前的配置：edit configurations->app.version=upc-develop<br/>
            <a target="_blank" href="https://blog.csdn.net/geming2017/article/details/85134555">启动此后端项目遇到问题</a><br/>
        </dd>

        <dt>前端项目</dt>
        <dd>
            VSCode打开前端项目：open folder<br/>
            这个前端项目启动前的配置：<br/>
            基础服务u8c分支升级 项目运行；这个项目是由原来u8c分支的代码升级，master分支代码现在不涉及；<br/>
            mdf2.0 项目的包是放在了公司的服务器上，所以需要安装用友的包工具 ynpm<br/>
            1.将文件夹下的node_modules 文件夹清空<br/>
            2.命令行：npm i ynpm-tool -g<br/>
            3.命令行：ynpm install<br/>
            4.命令行：ynpm run debug:client<br/>
            5.命令行：ynpm run debug:server<br/>
            每次包更新，需要先将node_modules 文件目录清空<br/>

            之前：D:\allproject\UStock-web\UPC-Web\src\web\common\redux\routes.jsx文件，删掉Components.ErrorView<br/>
            最新：D:\allproject\UStock-web\UPC-Web\src\web\common\redux\routes.jsx文件，删掉diworkLogin ? ErrorView :（Route标签里的）<br/>

            启动这个前端项目遇到的问题：<br/>
            <a target="_blank" href="https://blog.csdn.net/y_0232/article/details/102555209">输入命令遇到问题</a><br/>
            <a target="_blank" href="https://blog.csdn.net/qq_15916363/article/details/81041795">win10端口占用</a><br/>
            <a target="_blank" href="https://blog.csdn.net/weixin_42470791/article/details/82833415">清缓存</a><br/>
        </dd>
    </dl>

    <h4>【友零售-商品中心】3个启动入口</h4>
    <dl>
        <dt>后端项目1个启动入口：（->运行后端项目）</dt>
        <dt>前端项目2个启动入口：（微信消息 npm	->运行前端项目）</dt>
        <dd>ynpm run debug:client&emsp;页面渲染</dd>
        <dd>ynpm run debug:server&emsp;与后端通信</dd>
        <dt>访问系统（系统在本地）->本机3003端口&emsp;fiuser&emsp;123456</dt>
        <dd>
            营销框架本地获取多语上下文：<br/>
            1. 设置host文件 ，如 127.0.0.1 a.yyuap.com hosts文件位置：C:\Windows\System32\drivers\etc<br/>
            2. 修改fibasecom 下的配置文件的credential.path ,认证文件设置成本地的，如d:/authfile.txt<br/>
            3. 本地启动服务后，先登录ys test环境<br/>
        </dd>
    </dl>

    <h4>项目详细解说</h4>
    <p>
        【友零售-商品中心】，开发一个功能，分为4块，<br/>
        1.upc-meta-resources模块，该模块里是xml，元数据，typeA：子表/成员变量<br/>
        2.excel表格<br/>
        3.upc-service模块，该模块里的***Rule.java->execute()<br/>
        4.JavaScript脚本->实现前端效果<br/>
        <br/>
        <br/>
        upc-meta-tools模块：<br/>
        upc-meta-tools\src\main\java\com\yonyoucloud\upc\tpl\test中的Java类有用！<br/>
        upc-models模块，该模块里是Java实体类<br/>

        upc-server模块：<br/>
        upc-server\src\main\java\com\yonyoucloud\upc\controller，控制层！<br/>
        java.xml：定义好了类型<br/>


        熟悉数据库（136连接->ugoods库。看excel表格、xml，以熟悉表<br/>）：<br/>
        数据库内容，经后端->前端，到前端变成json，前端读取这些json以加载/显示页面的组件；页面文字都不是写在html上的，而是读db的；<br/>
        要搞清数据库表/字段和页面文字/组件的对应关系；F12->network->meta开头->preview<br/>
        F12以查看cBillNo<br/>
        F12以查看所有字段名/值<br/>

        根据数据库预置页面布局<br/>
        aa_enum表：枚举表<br/>
        bill_base表：用于定义页面，其字段cBillNo标记唯一页面，一行元组 -- 一个页面，不同租户页面不同<br/>
        billentity_base表：该页面涉及到的实体类<br/>
        billtemplate_base表：页面大框 每个页面都一样的<br/>
        billtplgroup_base表：页面的上下左右区域，每个页面也差不多<br/>
        billitem_base表：其字段cFieldName：成员变量，cName：json串的键。每一行元组 -- 一个组件。其cShowCaption字段即html的label<br/>
        读取其字段以在页面上显示品牌属性及控件。包含brand表的字段。<br/>
        billruleregister表：用于注册，其字段ruleId -- bean id，billnum字段 -- 页面编号<br/>
        brand表：品牌表，其字段为品牌属性；<br/>
        pub_ref表：参照表，reftype字段和code字段值一样<br/>
        excel中，对应数据表名<br/>
        物料档案列表.xlsm<br/>
    </p>

    <h4>对【友零售】系统的理解</h4>
    <ol>
        <li>html文件内容不是固定的，会在系统使用过程中改变；</li>
        <li>
            项目代码是不变的，但是不同用户使用系统时实际执行的代码是不同的；<br/>
            就像博客园模板样式，也是不同用户实际执行的代码不同。这些都只是猜测，纸上谈兵，具体是咋实现的还得实际编程才知道咋回事、有所体会。<br/>
        </li>
        <li>读取数据库以加载页面，组件信息存数据库；</li>
        <li>通常用户使用软件中可能insert，而友零售在使用中可能新增了一张表</li>
        <li>多租户：多个企业/组织共用相同的系统/程序组件；物料，相对于工厂即产品，相对于客户即商品，一个总称</li>
        <li>用户使用时可以做很多很多的设置，</li>
        <li>他做的就是给别人操作的</li>
        <li>通过读取数据库来执行很多东西</li>
        <li>这个软件，用户做很多设置，比如添加自己的物料</li>
    </ol>
</div>

</body>
</html>